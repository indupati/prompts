# Техническое задание: Веб-приложение для броска костей (D&D Dice Roller)

## Назначение
Standalone веб-приложение для броска виртуальных костей в формате Dungeons & Dragons с возможностью формирования HTTP-запросов.

## Требования к интерфейсу

1. **Основные элементы**:
   - Мешок костей (верхняя часть) - отображает текущий набор выбранных костей
   - Панель выбора костей (нижняя часть) - кнопки d4, d6, d8, d10, d12, d20, d100
   - Кнопки управления: "Очистить все" и "Бросить кости"

2. **Модальные окна**:
   - Окно ввода количества костей с цифровой клавиатурой (numpad)
     - Кнопки 0-9, backspace (⌫), clear (C)
     - Отображение вводимого количества
   - Окно результатов с:
     - Сформированным JSON
     - Примером curl-запроса
     - Примером Python-запроса
     - Возможностью прокрутки содержимого

## Функциональные требования

1. **Логика работы**:
   - При клике на кнопку кости открывается модальное окно для ввода количества
   - Добавление костей в мешок после подтверждения
   - Валидация ввода:
     - Только целые числа >=0
     - Общий лимит костей в мешке - 999
   - Возможность удаления отдельных костей из мешка

2. **Формирование данных**:
   - Генерация JSON в формате:
     ```json
     {
       "userId": "local-user",
       "requestId": "uuid-string",
       "dice": [
         {"type": 6, "quantity": 3},
         {"type": 20, "quantity": 1}
       ],
       "createdAt": "2023-11-20T12:00:00Z"
     }
     ```

3. **Генерация примеров запросов**:
   - cURL:
     ```bash
     curl -X POST https://api.example.com/roll \
       -H "Content-Type: application/json" \
       -d '{"userId":"local-user","requestId":"uuid-string","dice":[{"type":6,"quantity":3},{"type":20,"quantity":1}],"createdAt":"2023-11-20T12:00:00Z"}'
     ```
   - Python (requests):
     ```python
     import requests
     
     url = "https://api.example.com/roll"
     data = {
         "userId": "local-user",
         "requestId": "uuid-string",
         "dice": [{"type": 6, "quantity": 3}, {"type": 20, "quantity": 1}],
         "createdAt": "2023-11-20T12:00:00Z"
     }
     
     response = requests.post(url, json=data)
     print(response.json())
     ```

## Технические требования

1. **Реализация**:
   - Single HTML-файл с встроенными CSS и JavaScript
   - Адаптивный дизайн (работа на мобильных устройствах)
   - Логика разделена на классы (DiceManager, ModalManager)

2. **Критерии приемки**:
   - Корректное отображение всех элементов интерфейса
   - Работоспособность numpad в модальном окне
   - Правильная валидация ввода (числа >=0, лимит 999)
   - Формирование валидного JSON
   - Генерация корректных примеров запросов (cURL и Python)
   - Возможность прокрутки содержимого в модальном окне результатов

3. **Тестовые сценарии**:
   - Добавление/удаление костей разных типов
   - Проверка ввода невалидных значений
   - Проверка ограничения на максимальное количество костей
   - Проверка генерации JSON и примеров запросов
